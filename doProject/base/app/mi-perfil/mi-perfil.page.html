<ion-header class="page ribbon">
  
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [text]="'buttons.back' | translate"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ 'menu.miperfil' | translate }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="auth.logout()"><ion-icon slot="icon-only" name="power"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>

</ion-header>
<ion-content>

  <ion-grid fixed>
    <ion-row>
      <ion-col>

        <ion-list>
      
          <ion-item (click)="goToMiPerfilDetail()" detail="true" class="ion-activatable">
            <ion-spinner *ngIf="preloading === 'detail'" name="lines" slot="start" style="margin-right: 34px !important; margin-left: 14px !important;"></ion-spinner>
            <ion-thumbnail slot="start" *ngIf="preloading !== 'detail'">
              <ion-icon src="assets/icons/avatar.svg" style="font-size: 55px;"></ion-icon>
            </ion-thumbnail>
            <ion-label>
              <h2>{{(user.instant?.nombre || '') + ' ' + (user.instant?.apellidos || '')}}</h2>
              <p>{{(user.instant?.email || '')}}</p>
              <p>{{(user.instant?.telefono || '')}}</p>
            </ion-label>
          </ion-item>

        </ion-list>
        <ion-list>
          <ion-item-divider></ion-item-divider>
      
          <ion-item (click)="goToDeviceSettings('security')" detail="true" class="ion-activatable">
            <ion-spinner *ngIf="preloading === 'security'" name="lines-small" slot="start"></ion-spinner>
            <ion-icon *ngIf="preloading !== 'security'" name="lock-closed" slot="start"></ion-icon>
            <ion-label>{{'usuario.seguridad' | translate}}</ion-label>
          </ion-item>
          <ion-item routerLink="/devices" *ngIf="user?.instant?.devicesCount > 1">
            <ion-icon name="phone-portrait" slot="start"></ion-icon>
            <ion-label>{{'devices.devices_list' | translate}}</ion-label>
          </ion-item>

        </ion-list>
        <ion-list>
          <ion-item-divider></ion-item-divider>
      
          <ion-item routerLink="/mi-perfil/calendarios">
            <ion-icon name="calendar" slot="start"></ion-icon>
            <ion-label>{{'conductor.mis_calendarios' | translate}}</ion-label>
          </ion-item>

        </ion-list>
        <ion-list>
          <ion-item-divider></ion-item-divider>
      
          <ion-item (click)="goToDeviceSettings('notifications')" detail="true" class="ion-activatable">
            <ion-spinner *ngIf="preloading === 'notifications'" name="lines-small" slot="start"></ion-spinner>
            <ion-icon *ngIf="preloading !== 'notifications'" name="notifications" slot="start"></ion-icon>
            <ion-label>{{'menu.notifi_sistema' | translate}}</ion-label>
          </ion-item>
      
          <ion-item routerLink="/mi-perfil/visualizacion">
            <ion-icon name="moon" slot="start"></ion-icon>
            <ion-label>{{'menu.visualizacion' | translate}}</ion-label>
          </ion-item>

          <ion-item routerLink="/launch-navigator" [disabled]="!user.device.isRealPhone">
            <ion-icon name="location" slot="start"></ion-icon>
            <ion-label>{{'menu.launchNavigator' | translate}}</ion-label>
          </ion-item>
          
          <ion-item routerLink="/mi-perfil/google-maps" [disabled]="true">
            <ion-icon name="globe" slot="start"></ion-icon>
            <ion-label>{{'menu.googlemaps' | translate}}</ion-label>
          </ion-item>

      
        </ion-list>

      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
