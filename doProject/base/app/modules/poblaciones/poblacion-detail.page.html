<ion-header>

<ion-toolbar>
  <ion-buttons slot="start">
    <ion-back-button [text]="'buttons.back' | translate"></ion-back-button>
  </ion-buttons>
  <ion-title>{{headerText}}</ion-title>
</ion-toolbar>

</ion-header>
<ion-content>

  <form [formGroup]="frm" (ngSubmit)="saveRow()">

    <ion-card class="detail no-shadow">

      <ion-grid>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.locality' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="locality" type="text" placeholder="{{'poblaciones.locality' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.aliasLocality' | translate}}</ion-label>
              <ion-input formControlName="aliasLocality" type="text" placeholder="{{'poblaciones.aliasLocality' | translate}}"></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.administrative_area_level_2' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="administrative_area_level_2" type="text" placeholder="{{'poblaciones.administrative_area_level_2' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.administrative_area_level_1' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="administrative_area_level_1" type="text" placeholder="{{'poblaciones.administrative_area_level_1' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.country' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="country" type="text" placeholder="{{'poblaciones.country' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.lat' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="lat" type="text" placeholder="{{'poblaciones.lat' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label position="floating">{{'poblaciones.lng' | translate}} <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="lng" type="text" placeholder="{{'poblaciones.lng' | translate}} *" required></ion-input>
            </ion-item>

          </ion-col>
        </ion-row>

      </ion-grid>


      <div class="error ion-text-start">
        <p *ngIf="initialized && (!isNew || isNew && (getter('aliasLocality').touched || getter('locality').dirty)) && getter('locality').errors?.required">{{'poblaciones.locality_required' | translate}}</p>
        <p *ngIf="initialized && (!isNew || isNew && (getter('administrative_area_level_2').touched || getter('administrative_area_level_2').dirty)) && getter('administrative_area_level_2').errors?.required">{{'poblaciones.administrative_area_level_2_required' | translate}}</p>
        <p *ngIf="initialized && (!isNew || isNew && (getter('administrative_area_level_1').touched || getter('administrative_area_level_1').dirty)) && getter('administrative_area_level_1').errors?.required">{{'poblaciones.administrative_area_level_1_required' | translate}}</p>
        <p *ngIf="initialized && (!isNew || isNew && (getter('country').touched || getter('country').dirty)) && getter('country').errors?.required">{{'poblaciones.country_required' | translate}}</p>
        <p *ngIf="initialized && (!isNew || isNew && (getter('lat').touched || getter('lat').dirty)) && getter('lat').errors?.required">{{'poblaciones.lat_required' | translate}}</p>
        <p *ngIf="initialized && (!isNew || isNew && (getter('lng').touched || getter('lng').dirty)) && getter('lng').errors?.required">{{'poblaciones.lng_required' | translate}}</p>
      </div>

      <ion-grid class="buttons">
        <ion-row>
          <ion-col>

            <ion-button type="button" (click)="deleteRow()" [color]="isNew ? 'secondary' : 'danger'" expand="block"><ion-icon *ngIf="!isNew" slot="start" name="trash"></ion-icon>{{(isNew ? 'buttons.cancel' : 'buttons.delete') | translate | uppercase }}</ion-button>

          </ion-col>
          <ion-col>

            <ion-button type="submit" [disabled]="!initialized || frm.invalid || frm.pristine" [color]="frm.valid ? 'primary' : 'secondary'" expand="block">{{'buttons.save' | translate | uppercase }}</ion-button>

          </ion-col>
        </ion-row>
      </ion-grid>

    </ion-card>
  </form>

</ion-content>
