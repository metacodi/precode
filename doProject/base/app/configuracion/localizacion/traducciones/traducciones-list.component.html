<ion-header>

  <ion-toolbar *ngIf="isModal">
    <ion-buttons slot="start">
      <ion-button (click)="modal.dismiss()">
        <ion-icon slot="icon-only" name="close-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{headerText}}</ion-title>
  </ion-toolbar>

  <ion-grid fixed>
    <ion-row>
      <ion-col>
        <ion-searchbar #searchbar [(ngModel)]="match" debounce="500" placeholder="{{'buttons.search' | translate}}..."></ion-searchbar>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-progress-bar *ngIf="loading" type="indeterminate"></ion-progress-bar>

</ion-header>
<ion-content>

  <ion-list>

    <ion-item-divider color="primary" sticky="true">
      <ion-grid>
        <ion-row>
          <ion-col size="2">
            <ion-label text-wrap><ion-text>{{'traducciones.path' | translate}}</ion-text></ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label text-wrap><ion-text>{{'traducciones.key' | translate}}</ion-text></ion-label>
          </ion-col>
          <ion-col size="auto">
            <!-- <ion-label text-wrap><ion-text>{{'traducciones.isoCode' | translate}}</ion-text></ion-label> -->
            <ion-label text-wrap><ion-text></ion-text></ion-label>
          </ion-col>
          <ion-col size="6">
            <ion-label text-wrap><ion-text>{{'traducciones.description' | translate}}</ion-text></ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item-divider>

    <ion-item button *ngFor="let row of rows | filter:match:list.filter | orderBy:list.orderBy; let i = index" (click)="selectRow(row)" [detail]="!isPickRowMode" [ngClass]="{ selected: isSelected(row), stripped: i%2==1 }" class="hydrated compact">
      <ion-grid>
        <ion-row>
          <ion-col size="2">
            <ion-label text-wrap><ion-text><text-colorized [value]="row.localize.path" [match]="match"></text-colorized></ion-text></ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label text-wrap><ion-text><text-colorized [value]="row.localize.key" [match]="match"></text-colorized></ion-text></ion-label>
          </ion-col>
          <ion-col size="auto">
            <!-- <ion-label text-wrap><ion-text><text-colorized [value]="row.lang.isoCode" [match]="match"></text-colorized></ion-text></ion-label> -->
            <!-- <ion-icon [src]="'assets/flags/' + row.lang.isoCode + '.svg'"></ion-icon> -->
            <img [src]="'assets/flags/' + row.lang.isoCode + '.svg'" />
            
          </ion-col>
          <ion-col size="6">
            <ion-label text-wrap><ion-text><text-colorized [value]="row.description" [match]="match"></text-colorized></ion-text></ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

  </ion-list>


  <ion-infinite-scroll (ionInfinite)="request({ event: $event })" threshold="15%">
    <ion-infinite-scroll-content loadingSpinner="circles" loadingText="{{loadingText}}"></ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
<ion-footer>

  <ion-grid fixed>
    <ion-row>
      <ion-col>

        <ion-button (click)="selectRow('new')" color="primary" expand="block">
          <ion-icon slot="start" name="add"></ion-icon>
          {{addNewText}}
        </ion-button>

      </ion-col>
    </ion-row>
  </ion-grid>

</ion-footer>
